# 构建 web 内容的技术

## HTML

## CSS

## JavaScript

## XML/JSON

# web 攻击技术

## web 攻击基础

- HTTP 不具备必要的安全属性

- 在客户端即可篡改请求内容

- 浏览器的同源策略： 协议、域名、端口号

  1. DOM 不可获取

  2. ajax 请求无法发送

  3. cookie，localstorege，indexDB 无法访问

- 攻击模式：

1. 主动攻击：

攻击者直接访问 web 应用，将攻击代码传入 SQL 注入 OS 注入

2. 被动攻击：

利用设计的圈套进行攻击，不直接对 web 应用进行访问 xss/csrf

## 因输出值转译不安全引发的 web 漏洞

### XSS（反射型/存储型）

1. 利用虚假表单骗取用户的信息

2. 利用脚本获取用户的 cookie，用户在不知情的情况下帮助 攻击者发送恶意请求（cookie 的 httponly 属性）

3. 显示伪造的图片/文章

#### 反射型（非持久型）

非持久型 XSS 攻击要求用户访问一个被攻击者篡改后的链接，用户访问该链接时，被植入的攻击脚本被用户游览器执行，从而达到攻击目的。也就是我上面举的那个简单的 XSS 攻击案例，通过 url 参数直接注入。然后在响应的数据中包含着危险的代码

#### 存储型（持久型）

存储型又称为持久型跨站点脚本，它一般发生在 XSS 攻击向量(一般指 XSS 攻击代码)存储在网站数据库，当一个页面被用户打开的时候执行。持久的 XSS 相比非持久性 XSS 攻击危害性更大,容易造成蠕虫，因为每当用户打开页面，查看内容时脚本将自动执行

### SQL 注入

### OS 命令注入攻击

### HTTP 首部注入

1. 设置任意 cookie

2. 重定向至任意 url

3. 显示任意注入主体

### 邮件首部注入攻击

### 目录遍历攻击

### 远程文件包含漏洞（PHP）

## web 应用安全策略

- 客户端验证

cookie 的 httppnly 策略

多数情况下采用 JS 在客户端验证数据，但是客户端允许篡改数据或关闭 JS，不适合将 JS 验证作为安全的防范对策

- web 应用端验证

输入值验证

输出值转译

## 因设置或者设计上的缺陷引发的安全漏洞：错误设置服务器或者设计存在问题

### 强制浏览

### 不正确的错误消息处理

### 开放重定向

## 因会话管理疏忽引发的安全漏洞： 会导致用户的登陆状态被窃取

### 会话劫持

攻击者拿到用户的 sessionID,然后使用该 session ID 请求服务器，伪装成用户

会话固定：服务端会检查请求的 cookie 中是否包含 session，没有的话才会生成一个 sessionID。使用合法用户设置的 session ID 进行登陆，就可以伪装成合法用户

### 跨站请求伪造 csrf

攻击者通过设置好的陷阱，强制对已完成认证的用户进行非预期的个人信息或设定信息等某些状态更新，属于被动攻击

# 其它安全漏洞

## 密码破解：

- 穷举法
- 字典法

对已加密的密码进行破解

- 彩虹表

- 穷举法/字典

- 拿到密钥

- 加密算法的漏洞

## 点击劫持

使用透明按钮或者链接放在 web 页面上，诱使用户在不知情的情况下点击获取内容的攻击手段

## DOS 攻击

发送海量请求使资源不可用即服务不可用

通过攻击安全漏洞使服务停止

## 后门程序

# 安全要素

- 机密性

- 完整性

- 可用性

- 不可否认性

- 可控性
