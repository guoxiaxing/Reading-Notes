# 使用 HTTP 协议访问 Web（通常是浏览器）

# HTTP 的诞生

# 网络基础 TCP/IP

## TCP/IP 的分层管理

TCP/IP 协议族的一个重要特点就是 **分层**

TCP/IP 协议族由上向下分为四层

1. 应用层

决定了向用户提供应用服务时的通信活动

HTTP/DNS/FTP

2. 传输层

传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输

TCP（传输控制协议）/ UDP（用户数据报协议）

3. 网络层

用于处理网络上流动的数据包（数据传输的最小单位）

该层规定了，通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传输给对方

4. 数据链路层

用来处理连接网络的硬件部分

## TCP/IP 通信传输流

发送端从应用层往下走，接收端从数据链路层往上走

发送端在层与层之间传输数据时，每经过一层时必须打上一个该层所属的首部信息；反之，在接收端，没经过一层时，需要去掉该层的首部信息

将数据信息包装起来的方法叫做**封装**

# 与 HTTP 密切相关的协议 IP、TCP、DNS

## IP 协议

IP 协议 位于网络层

IP 协议的作用是将数据包传递给对方（如果要保证传递正确，必要条件就是 ip 地址和 mac 地址）

IP 地址指明了节点被分配到的地址，MAC 地址是指网卡所属的固定地址。

IP 地址可以和 MAC 地址进行配对。IP 地址可变换，但 MAC 地址基本上不会更改。

使用 ARP（地址解析协议） 协议凭借 MAC 地址进行通信

IP 之间的通信依赖 MAC 地址 （一般情况下通信双方在同一局域网的可能性是比较小的）

ARP（地址解析协议）：根据通信双方的 ip 地址找到对应的 mac 地址

## TCP 协议 确保可靠性

传输层，提供可靠的字节流服务

字节流服务指的是： 为了方便传输，将大块的数据切分成小的报文段为单位的数据包进行管理

### 可靠的数据传输

1. 三次握手

握手的过程中使用了 TCP 的标志 SYN（同步报文） 和 ACK（确认报文）

过程：

发送端首先发送一个带有 SYN 标志的数据包给对方

接收端接收到数据包之后回传一个带有 SYN&ACK 的数据包以示传达确认信息

发送端在收到之后再回传一个 ACK 的数据包，代表握手结束

## 负责域名解析的 DNS 服务

DNS 和 HTTP 一样是应用层协议，提供域名到 IP 地址之间的解析服务

功能： 提供了从域名查找对应 IP 地址的功能，也可以从 IP 地址反查到域名

# 各种协议与 HTTP 协议之间的关系

1. HTTP 协议的职责

生成针对目标 Web 服务器的 HTTP 报文

对 web 服务器返回的内容进行处理

2. TCP 的职责

为了方便通信，将报文分割成较小的报文段，按序号分为多个报文段，把每个报文段可靠的传输给对方；

从对方那里接收到报文段，按序号重组报文段

3. IP 协议的职责

搜索对方的地址，一边中转一边传送

# URI（统一资源标识符） 和 URL（统一资源定位符）
